<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8"/>
<title></title>
<meta name="author" content=""/>
<meta name="description" content=""/>
<meta name="keywords" content=""/>
<style type="text/css">
.underline { text-decoration: underline; }
</style>
<link rel="stylesheet" href="./reveal.js/dist/reveal.css"/>

<link rel="stylesheet" href="./reveal.js/dist/theme/aspen.css" id="theme"/>

</head>
<body>
<div class="reveal">
<div class="slides">
<section id="sec-title-slide" data-background="./images/aspen-background.png"><h2>Aspen Browse Categories<br>as Digital Signage</h2><b>AspenCon 2024</b><p style="line-height: 0.5em;"><span style="font-size: 0.5em;">Bryan Neil Jones<br>Nashville Public Library</span></p><aside class="notes">Hi. I am Bryan. I am a Systems Librarian at Nashville Public Library. Today I am going to tell you about how Nashville Public Library repurposed hardware to diplay staff curated Browse Categories and Lists on walls and shelf ends.<br>First, I want to thank everyone that helped put AspenCon together. Organizing and running a convention is a huge lift and appreciate the work everyone has done to make this happen.<br>Second, for lack of a better term I was the project manager of the project I am speaking about today but in truth the work was done by colleages: Jenny Ellis (our web designer), James Staub (the senior Systems Librarian), Larry Jirik (our Intrastructure Manager), Thomas Hammonds (our Applications Analyst), and all the devs at ByWater.<br>We had these maybe 34" all in computers embedded in walls and shelf ends.</aside>
</section>
<section>
<section id="slide-org09d6d08" data-background="./images/aspen-background.png">
<h2 id="org09d6d08">Custom Javascript</h2>
<ul>
<li class="fragment fade-left">Q: How to make Browse Categories automatically move</li>
<li class="fragment fade-left">A: James Staub's <a href="https://docs.google.com/document/d/1M-mUy-G2Y8oI_AnwW4u9DrWyOyr3yBDmBRh4BaM9jnU">custom JavaScript</a></li>

</ul>
<aside class="notes">
<p>
The old software displayed covers as an animated scroll. We had to figure out a way for the Browse Categories move on their own. James Staub, our senior systems librarian, wrote a JavaScript snippet to automate the rotation of Browse Categories. The snippet causes the current Category to advance to the next Category after twenty seconds and refresh the page after reaching the last Category in the Group. The last part is very important because this is what enables staff to make changes from their workstations without have to touch the hardware itself which is difficult to access. When the page refreshes, their changes appear. The snippet: 
</p>

</aside>
</section>
<section id="slide-org2eac5cb" data-background="./images/aspen-background.png">
<h3 id="org2eac5cb">Move to next Category after X seconds</h3>
<div class="org-src-container">

<pre  class="fragment (t)"   ><code trim><span style="color: #4d9391;">if</span> (location.pathname == <span style="color: #6fb593;">'/'</span>) {
        <span style="color: #4d9391;">var</span> <span style="color: #968cc7;">reloadURL</span> = window.location.href;
        <span style="color: #4d9391;">var</span> <span style="color: #968cc7;">rotateTime</span> = 20000;
        <span style="color: #4d9391;">var</span> <span style="color: #968cc7;">rotateCount</span> = 0;
        <span style="color: #4d9391;">function</span> <span style="color: #80bcb6;">rotateCategory</span>()
</code></pre>
</div>
</section>
<section id="slide-org3b73b94" data-background="./images/aspen-background.png">
<h3 id="org3b73b94">Refresh after the last Category</h3>
<div class="org-src-container">

<pre  class="fragment (t)"   ><code trim><span style="color: #4d9391;">function</span> <span style="color: #80bcb6;">rotateCategory</span>() {
      <span style="color: #4d9391;">var</span> <span style="color: #968cc7;">bccount</span> = $(<span style="color: #6fb593;">'.jcarousel'</span>).jcarousel(<span style="color: #6fb593;">'items'</span>).length;
      <span style="color: #4d9391;">var</span> <span style="color: #968cc7;">nextCategory</span> = <span style="color: #ab98b5;">null</span>;          
      nextCategory = $(<span style="color: #6fb593;">'[data-category-id='</span>+AspenDiscovery.Browse.curCategory+<span style="color: #6fb593;">']'</span>).next().attr(<span style="color: #6fb593;">'data-category-id'</span>);
      <span style="color: #4d9391;">if</span> (!nextCategory || rotateCount &gt;= bccount - 1 ) { 
                          window.location.href = reloadURL;
      }
      rotateCount++;
      AspenDiscovery.Browse.changeBrowseCategory(nextCategory);
}
</code></pre>
</div>
</section>
<section id="slide-org0829dbf" data-background="./images/aspen-background.png">
<h3 id="org0829dbf">All of it</h3>
<div class="org-src-container">

<pre  class="fragment (t)"   ><code trim>&lt;script&gt;

<span style="color: #4d9391;">if</span> (location.pathname == <span style="color: #6fb593;">'/'</span>) {
        <span style="color: #4d9391;">var</span> <span style="color: #968cc7;">reloadURL</span> = window.location.href;
        <span style="color: #4d9391;">var</span> <span style="color: #968cc7;">rotateTime</span> = 20000;
        <span style="color: #4d9391;">var</span> <span style="color: #968cc7;">rotateCount</span> = 0;
        <span style="color: #4d9391;">function</span> <span style="color: #80bcb6;">rotateCategory</span>() {
                <span style="color: #4d9391;">var</span> <span style="color: #968cc7;">bccount</span> = $(<span style="color: #6fb593;">'.jcarousel'</span>).jcarousel(<span style="color: #6fb593;">'items'</span>).length;
                <span style="color: #4d9391;">var</span> <span style="color: #968cc7;">nextCategory</span> = <span style="color: #ab98b5;">null</span>;                
                nextCategory = $(<span style="color: #6fb593;">'[data-category-id='</span>+AspenDiscovery.Browse.curCategory+<span style="color: #6fb593;">']'</span>).next().attr(<span style="color: #6fb593;">'data-category-id'</span>);
                <span style="color: #4d9391;">if</span> (!nextCategory || rotateCount &gt;= bccount - 1 ) { 
                        window.location.href = reloadURL;
                }
                rotateCount++;
                AspenDiscovery.Browse.changeBrowseCategory(nextCategory);
        }

        setTimeout(
                <span style="color: #4d9391;">function</span> <span style="color: #80bcb6;">waitForIt</span>(){
                        <span style="color: #4d9391;">if</span>(<span style="color: #4d9391;">typeof</span> AspenDiscovery.Browse.curCategory !== <span style="color: #6fb593;">"undefined"</span>){
                                setInterval(rotateCategory,rotateTime)
                        }<span style="color: #4d9391;">else</span>{
                                setTimeout(waitForIt,250)
                        }
                },750);
}
&lt;/script&gt;
</code></pre>
</div>
</section>
</section>
</div>
</div>
<script src="./reveal.js/dist/reveal.js"></script>
<script src="./reveal.js/plugin/markdown/markdown.js"></script>
<script src="./reveal.js/plugin/notes/notes.js"></script>


<script>
// Full list of configuration options available here:
// https://github.com/hakimel/reveal.js#configuration
Reveal.initialize({
plugins: [RevealMarkdown, RevealNotes]
});

</script>
</body>
</html>
